(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b207e43e"],{2017:function(e,n,r){"use strict";r("cafe")},"9ed6":function(e,n,r){"use strict";r.r(n);var t=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",{staticClass:"login-container"},[r("van-form",{ref:"loginForm",staticClass:"mt-20",on:{submit:e.handleLogin}},[r("van-field",{ref:"username",attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.loginForm.username,callback:function(n){e.$set(e.loginForm,"username",n)},expression:"loginForm.username"}}),r("van-field",{ref:"password",attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.loginForm.password,callback:function(n){e.$set(e.loginForm,"password",n)},expression:"loginForm.password"}}),r("div",{staticStyle:{margin:"16px"}},[r("van-button",{attrs:{round:"",block:"",type:"info","native-type":"handleLogin"}},[e._v("提交")])],1)],1)],1)},o=[];r("c975"),r("498a");function i(e){var n=["admin","editor"];return n.indexOf(e.trim())>=0}var a={name:"Login",data:function(){var e=function(e,n,r){i(n)?r():r(new Error("Please enter the correct user name"))},n=function(e,n,r){n.length<6?r(new Error("The password can not be less than 6 digits")):r()};return{loginForm:{username:"admin",password:"111111"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:n}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleLogin:function(){var e=this;this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then((function(){e.$router.push("/form"),e.loading=!1})).catch((function(){e.loading=!1}))}}},s=a,l=(r("2017"),r("9f1b"),r("2877")),u=Object(l["a"])(s,t,o,!1,null,"edb25f0c",null);n["default"]=u.exports},"9f1b":function(e,n,r){"use strict";r("e687")},cafe:function(e,n,r){},e687:function(e,n,r){}}]);