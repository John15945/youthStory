(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,n){e.exports=n("56d7")},"00e4":function(e,t){e.exports=vendor_library},"0781":function(e,t,n){"use strict";n.r(t);var r=n("83d6"),a=n.n(r),o=a.a.showSettings,i=a.a.fixedHeader,c=a.a.sidebarLogo,u={showSettings:o,fixedHeader:i,sidebarLogo:c},s={CHANGE_SETTING:function(e,t){var n=t.key,r=t.value;e.hasOwnProperty(n)&&(e[n]=r)}},d={changeSetting:function(e,t){var n=e.commit;n("CHANGE_SETTING",t)}};t["default"]={namespaced:!0,state:u,mutations:s,actions:d}},"0f9a":function(e,t,n){"use strict";n.r(t);n("d3b7"),n("498a");var r=n("b775"),a=function(e){return Object(r["c"])("/vue-admin-template/user/login",e)},o=function(e){return Object(r["b"])("/vue-admin-template/user/info",{token:e})},i=function(){return Object(r["c"])("/vue-admin-template/user/logout")},c=n("5f87"),u=n("a18c"),s=function(){return{token:Object(c["a"])(),name:"",avatar:"",roles:[]}},d=s(),f={RESET_STATE:function(e){Object.assign(e,s())},SET_TOKEN:function(e,t){e.token=t},SET_NAME:function(e,t){e.name=t},SET_AVATAR:function(e,t){e.avatar=t},SET_ROLES:function(e,t){e.roles=t}},m={login:function(e,t){var n=e.commit,r=t.username,o=t.password;return new Promise((function(e,t){a({username:r.trim(),password:o}).then((function(t){var r=t.data;n("SET_TOKEN",r.token),Object(c["c"])(r.token),e()})).catch((function(e){t(e)}))}))},getInfo:function(e){var t=e.commit,n=e.state;return new Promise((function(e,r){o(n.token).then((function(n){var a=n.data;a||r("Verification failed, please Login again.");var o=a.roles,i=a.name,c=a.avatar;(!o||o.length<=0)&&r("getInfo: roles must be a non-null array!"),t("SET_ROLES",o),t("SET_NAME",i),t("SET_AVATAR",c),e(a)})).catch((function(e){r(e)}))}))},logout:function(e){var t=e.commit,n=e.state;return new Promise((function(e,r){i(n.token).then((function(){Object(c["b"])(),Object(u["d"])(),t("RESET_STATE"),e()})).catch((function(e){r(e)}))}))},resetToken:function(e){var t=e.commit;return new Promise((function(e){Object(c["b"])(),t("RESET_STATE"),e()}))}};t["default"]={namespaced:!0,state:d,mutations:f,actions:m}},"0ffc":function(e,t,n){},"2f62":function(e,t,n){e.exports=n("00e4")(14)},"31c2":function(e,t,n){"use strict";n.r(t),n.d(t,"filterAsyncRoutes",(function(){return i}));n("99af"),n("4160"),n("caad"),n("45fc"),n("d3b7"),n("2532"),n("159b");var r=n("5530"),a=n("a18c");function o(e,t){return!t.meta||!t.meta.roles||e.some((function(e){return t.meta.roles.includes(e)}))}function i(e,t){var n=[];return e.forEach((function(e){var a=Object(r["a"])({},e);o(t,a)&&(a.children&&(a.children=i(a.children,t)),n.push(a))})),n}var c={routes:[],addRoutes:[]},u={SET_ROUTES:function(e,t){e.addRoutes=t,e.routes=a["b"].concat(t)}},s={generateRoutes:function(e,t){var n=e.commit;return new Promise((function(e){var r;r=t.includes("admin")?a["a"]||[]:i(a["a"],t),n("SET_ROUTES",r),e(r)}))}};t["default"]={namespaced:!0,state:c,mutations:u,actions:s}},3237:function(e,t,n){"use strict";n.r(t),t["default"]=[{path:"user",redirect:"/",hidden:!0}]},4360:function(e,t,n){"use strict";n("13d5"),n("d3b7"),n("ac1f"),n("5319"),n("ddb0");var r=n("2b0e"),a=n("2f62"),o={sidebar:function(e){return e.app.sidebar},device:function(e){return e.app.device},token:function(e){return e.user.token},avatar:function(e){return e.user.avatar},name:function(e){return e.user.name},roles:function(e){return e.user.roles},permission_routes:function(e){return e.permission.routes}},i=o;r["a"].use(a["default"]);var c=n("c653"),u=c.keys().reduce((function(e,t){var n=t.replace(/^\.\/(.*)\.\w+$/,"$1"),r=c(t);return e[n]=r.default,e}),{}),s=new a["default"].Store({modules:u,getters:i});t["a"]=s},"4d11":function(e,t,n){"use strict";n("0ffc")},"56d7":function(e,t,n){"use strict";n.r(t);n("e623"),n("e379"),n("5dc8"),n("37e1"),n("2d26"),n("96cf");var r=n("2b0e"),a=(n("f5df1"),n("b20f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),o=[],i={name:"App"},c=i,u=n("2877"),s=Object(u["a"])(c,a,o,!1,null,null,null),d=s.exports,f=n("4360"),m=n("a18c"),l=n("fe3c"),p=n.n(l),b=n("b970"),h=(n("157a"),n("c975"),n("5530")),v=n("1da1"),g=n("d399"),E=n("323e"),k=n.n(E),T=(n("a5d8"),n("5f87")),O=(n("99af"),n("83d6")),S=n.n(O),w=S.a.title||"Vue Admin";function x(e){return e?"".concat(e," - ").concat(w):"".concat(w)}k.a.configure({showSpinner:!1});var j=["/login"];m["c"].beforeEach(function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(k.a.start(),document.title=x(t.meta.title),a=Object(T["a"])(),!a){e.next=35;break}if("/login"!==t.path){e.next=9;break}r({path:"/"}),k.a.done(),e.next=33;break;case 9:if(o=f["a"].getters.roles&&f["a"].getters.roles.length>0,!o){e.next=14;break}r(),e.next=33;break;case 14:return e.prev=14,e.next=17,f["a"].dispatch("user/getInfo");case 17:return i=e.sent,c=i.roles,e.next=21,f["a"].dispatch("permission/generateRoutes",c);case 21:u=e.sent,m["c"].addRoutes(u),r(Object(h["a"])(Object(h["a"])({},t),{},{replace:!0})),e.next=33;break;case 26:return e.prev=26,e.t0=e["catch"](14),e.next=30,f["a"].dispatch("user/resetToken");case 30:g["a"].fail(e.t0||"Has Error"),r("/login?redirect=".concat(t.path)),k.a.done();case 33:e.next=36;break;case 35:-1!==j.indexOf(t.path)?r():(r("/login?redirect=".concat(t.path)),k.a.done());case 36:case"end":return e.stop()}}),e,null,[[14,26]])})));return function(t,n,r){return e.apply(this,arguments)}}()),m["c"].afterEach((function(){k.a.done()})),p.a.attach(document.body),r["a"].use(b["a"]),r["a"].config.productionTip=!1,new r["a"]({el:"#app",router:m["c"],store:f["a"],render:function(e){return e(d)}})},"5f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("a78e"),a=n.n(r),o="vue_admin_template_token";function i(){return a.a.get(o)}function c(e){return a.a.set(o,e)}function u(){return a.a.remove(o)}},7191:function(e,t,n){var r={"./order-routes.js":"a5f7","./user-routes.js":"3237"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="7191"},"83d6":function(e,t){e.exports={title:"Vue Admin Template",fixedHeader:!1,sidebarLogo:!1}},"8c4f":function(e,t,n){e.exports=n("00e4")(13)},a18c:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return E}));n("99af"),n("13d5"),n("d3b7"),n("ddb0");var r=n("2909"),a=n("2b0e"),o=n("8c4f"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"app-main"},[n("transition",{attrs:{name:"fade-transform",mode:"out-in"}},[n("router-view",{key:e.key})],1)],1)},c=[],u={name:"Layout",computed:{key:function(){return this.$route.path}},methods:{handleClickOutside:function(){this.$store.dispatch("app/closeSideBar",{withoutAnimation:!1})}}},s=u,d=(n("4d11"),n("2877")),f=Object(d["a"])(s,i,c,!1,null,"4f50270d",null),m=f.exports;a["a"].use(o["default"]);var l=n("7191"),p=l.keys().reduce((function(e,t){var n,a=(null===(n=l(t))||void 0===n?void 0:n.default)||[];return[].concat(Object(r["a"])(e),Object(r["a"])(a))}),[]),b=[{path:"/login",component:function(){return n.e("chunk-b207e43e").then(n.bind(null,"9ed6"))},hidden:!0},{path:"/404",component:function(){return n.e("chunk-b14eccce").then(n.bind(null,"cc89"))},hidden:!0},{path:"/",component:m,redirect:"/home",children:[{path:"home",name:"Home",component:function(){return n.e("chunk-0215b131").then(n.bind(null,"77b8"))},meta:{title:"Home",icon:"home"}}]},{path:"/example",component:m,redirect:"/example/table",name:"Example",meta:{title:"Example",icon:"el-icon-s-help"},children:[{path:"table",name:"Table",component:function(){return n.e("chunk-2d0e4b0c").then(n.bind(null,"90fe"))},meta:{title:"Table",icon:"table"}}]},{path:"/form",component:m,redirect:"/form/index",children:[{path:"index",name:"Form",component:function(){return n.e("chunk-2ef05c14").then(n.bind(null,"371d"))},meta:{title:"Form",icon:"form"}}]}],h=[{path:"external-link",component:m,children:[{path:"https://panjiachen.github.io/vue-element-admin-site/#/",meta:{title:"External Link",icon:"link"}}]}].concat(Object(r["a"])(p),[{path:"*",redirect:"/404",hidden:!0}]),v=function(){return new o["default"]({scrollBehavior:function(){return{y:0}},routes:b})},g=v();function E(){var e=v();g.matcher=e.matcher}t["c"]=g},a5f7:function(e,t,n){"use strict";n.r(t),t["default"]=[{path:"order",redirect:"/",hidden:!0}]},b20f:function(e,t,n){},b775:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));n("d3b7");var r=n("bc3a"),a=n.n(r),o=n("d399"),i=n("2241"),c=n("4360"),u=n("5f87"),s=a.a.create({baseURL:"/prod-api",timeout:5e3});s.interceptors.request.use((function(e){return c["a"].getters.token&&(e.headers["X-Token"]=Object(u["a"])()),e}),(function(e){return Promise.reject({type:"requestError",msg:(null===e||void 0===e?void 0:e.message)||"requestError",info:(null===e||void 0===e?void 0:e.request)||{}})})),s.interceptors.response.use((function(e){var t=e.data;return void 0===t.code?t:2e4!==t.code?(Object(o["a"])({message:t.message||"Error",type:"fail",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||i["a"].confirm({message:"You have been logged out, you can cancel to stay on this page, or log in again, Confirm logout",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"Re-Login",cancelButtonText:"Cancel"}).then((function(){c["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject({type:"dataError",msg:t.message||"code error",info:t})):t}),(function(e){var t,n=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status;switch(n){case 400:e.message="请求错误";break;case 401:e.message="请求要求用户的身份认证，请登录",c["a"].dispatch("user/resetToken").then((function(){location.reload()}));break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址错误";break;case 405:e.message="请求中的方法被禁止";break;case 406:e.message="客户端无法解析服务端返回的内容";break;case 408:e.message="请求超时";break;case 413:e.message="请求的实体过大";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持";break;default:e.message="未知请求错误";break}return Object(o["a"])({message:e.message,type:"fail",duration:5e3}),Promise.reject({type:"responseError",msg:(null===e||void 0===e?void 0:e.message)||"responseError",info:(null===e||void 0===e?void 0:e.response)||{}})}));var d=function(e,t){return s({url:e,method:"get",params:t})},f=function(e,t){return s({url:e,method:"post",data:t})};t["a"]=s},bc3a:function(e,t,n){e.exports=n("00e4")(15)},c653:function(e,t,n){var r={"./app.js":"d9cd","./permission.js":"31c2","./settings.js":"0781","./user.js":"0f9a"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="c653"},c8ba:function(e,t,n){e.exports=n("00e4")(1)},d9cd:function(e,t,n){"use strict";n.r(t);var r=n("a78e"),a=n.n(r),o={sidebar:{opened:!a.a.get("sidebarStatus")||!!+a.a.get("sidebarStatus"),withoutAnimation:!1},device:"desktop"},i={TOGGLE_SIDEBAR:function(e){e.sidebar.opened=!e.sidebar.opened,e.sidebar.withoutAnimation=!1,e.sidebar.opened?a.a.set("sidebarStatus",1):a.a.set("sidebarStatus",0)},CLOSE_SIDEBAR:function(e,t){a.a.set("sidebarStatus",0),e.sidebar.opened=!1,e.sidebar.withoutAnimation=t},TOGGLE_DEVICE:function(e,t){e.device=t}},c={toggleSideBar:function(e){var t=e.commit;t("TOGGLE_SIDEBAR")},closeSideBar:function(e,t){var n=e.commit,r=t.withoutAnimation;n("CLOSE_SIDEBAR",r)},toggleDevice:function(e,t){var n=e.commit;n("TOGGLE_DEVICE",t)}};t["default"]={namespaced:!0,state:o,mutations:i,actions:c}}},[[0,"runtime","chunk-libs"]]]);